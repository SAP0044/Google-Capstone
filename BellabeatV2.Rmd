---
title: "Capstone_Bellabeat"
author: "Scott Pullen"
date: "`r Sys.Date()`"
output: html_document
editor_options: 
  markdown: 
    wrap: 72
---

```{r setup, include=FALSE, echo=FALSE}
require("knitr")
opts_knit$set(root.dir = "~/Capstone_Bellabeat")
```

**Bellabeat Case Study**

![](images/Screen%20Shot%202022-08-14%20at%2011.40.14%20AM.png)

***ASK***

**Bellabeat History**: Urška Sršen and Sando Mur founded Bellabeat, a
high-tech company that manufactures health-focused smart products. Sršen
used her background as an artist to develop beautifully designed
technology that informs and inspires women around the world. Collecting
data on activity, sleep, stress, and reproductive health has allowed
Bellabeat to empower women with knowledge about their own health and
habits. Since it was founded in 2013, Bellabeat has grown rapidly and
quickly positioned itself as a tech-driven wellness company for women.

Bellabeat main product lineup includes the following:

-   *Bellabeat app: provides users with health data related to their
    activity, sleep, stress,menstrual cycle, and mindfulness habits.*

-   Leaf: classic wellness tracker can be worn as a bracelet, necklace,
    or clip.

-   *Time: wellness watch combines the timeless look of a classic
    timepiece with smart technology to track user activity, sleep, and
    stress.*

-   Spring: a water bottle that tracks daily water intake using smart
    technology to ensure that you are appropriately hydrated throughout
    the day.

**Stakeholder Ask**: Analyze smart device usage data in order to gain
insight into how consumers use non-Bellabeat smart devices, then select
one Bellabeat product to apply these insights to.

**Questions for the analysis**:

-   What are some trends in smart device usage?

-   How could these trends apply to Bellabeat customers?

-   How could these trends help influence Bellabeat marketing strategy?

***PREPARE***

![](images/Screen%20Shot%202022-08-14%20at%2011.42.31%20AM.png)

**Dataset Used**: The data source used for our case study is FitBit
Fitness Tracker Data. This dataset is stored in Kaggle and was made
available through Mobius. This dataset was generated by respondents to a
distributed survey via Amazon Mechanical Turk between
03.12.2016-05.12.2016. Thirty eligible Fitbit users consented to the
submission of personal tracker data, including minute-level output for
physical activity, heart rate, and sleep monitoring. Limitations exist
within the data due to a lack of sample size in some files as well as
demographics of the participants.

**Installing & Loading of packages:**

```{r}

library(tidyverse)
library(here)
library(skimr)
library(janitor)
library(dplyr)

```

**Importing Datasets**

After inspecting all 18 of the datasets we will choose the ones to help
us with our ask:

```{r}
setwd("/Users/sapsair/Downloads/Fitabase Data 4.12.16-5.12.16")
daily_activity <- read.csv("dailyActivity_merged.csv")
daily_calories <- read.csv("dailyCalories_merged.csv")
daily_intensities <- read.csv("dailyIntensities_merged.csv")
daily_steps <- read.csv("dailySteps_merged.csv")
heartrate_sec <- read.csv("heartrate_seconds_merged.csv")
sleep_day <- read.csv("sleepDay_merged.csv")
weight_log <- read.csv("weightLogInfo_merged.csv")
```

Let's take a look at the data:

```{r}
##daily_activity

head(daily_activity)
colnames(daily_activity)

##daily_calories

head(daily_calories)
colnames(daily_calories)

##daily_intensities

head(daily_intensities)
colnames(daily_intensities)

##daily_steps

head(daily_steps)
colnames(daily_steps)

##heartrate_sec

head(heartrate_sec)
colnames(heartrate_sec)

##sleep_day

head(sleep_day)
colnames(sleep_day)

##weight_log

head(weight_log)
colnames(weight_log)
```

After inspection we see that the data contained in 3 of the data frames
is also contained in daily_activity, lets remove the 3 to keep our
Environment less cluttered:

```{r}
rm(daily_calories)
rm(daily_intensities)
rm(daily_steps)
```

Let's take a look at how many individual participants were tracked in
each:

```{r}
n_distinct(daily_activity$Id)
n_distinct(heartrate_sec$Id)
n_distinct(sleep_day$Id)
n_distinct(weight_log$Id)
```

We find that 1 table show 33 unique Id's while the sleepDay is 24,
heartrate_sec is 14 and weight_log table shows only 8 Id's. *Need to
work back with marketing on strategy to collect more heartrate and
weight log information from our devices to get a better idea on how we
can tie this data into future analysis.*

Continue to clean looking for duplicates:

```{r}
sum(duplicated(daily_activity))
sum(duplicated(heartrate_sec))
sum(duplicated(sleep_day))
sum(duplicated(weight_log))
```

Sleep_day is showing 3 duplicates, let's remove:

```{r}
sleep_day <- sleep_day %>% 
  distinct() %>% 
  drop_na()
```

Verying the duplicates were removed:

```{r}
sum(duplicated(sleep_day))
```

Success!

***ANALYZE***

![](images/Screen%20Shot%202022-08-14%20at%2011.44.01%20AM.png)

We will now breakdown and look at summaries for our remaining data:

**Summary of daily_activity**

```{r}
summary(daily_activity)
```

*Analysis:*

From a high level overview of active minutes, our subjects average 192
minutes which ranks them as above average compared to the CDC guidance
of at least 150 minutes of "moderate" activity like brisk walking. When
looking at average steps of our surveyed users we find the mean (7,638
steps) falls well below CDC guidance of 10,000 steps. We are not getting
an account for muscle-strengthening activities which CDC guides as at
least 2 or more days a week. Something our marketing team should look
into as we move to help our users get into their best health.
Notifications should be implemented for Total Steps in order to help
users understand a baseline for calories burned per day. *calories
burned per minute= 0.0175 x MET x weight in kilograms*

```{r}
ggplot(daily_activity, aes(x=TotalSteps, y=Calories)) + geom_jitter() + geom_smooth(color = "red") + labs(title = "Total Steps vs Calories", x="Daily Steps", y= "Calories")
```

```{r}
barplot(daily_activity$TotalSteps)
abline(h=10000, col = "Red", lty = 5, lwd = 3)
```

**Summary of heartrate_sec**

```{r}
summary(heartrate_sec)
```

Manipulated the original file in excel with a pivot table to get the
average heart rate per day for better visualization. *Upload to
Environment*

```{r}
setwd("/Users/sapsair/Downloads/Fitabase Data 4.12.16-5.12.16")
heartrate_day <- read.csv("heartrate_dayavg.csv")
```

*Analysis*

With a limited group of unique Id's who submitted heart rate data we
wont dive in deep but wanted to display an average by day across users.
We dont have demographic info such as age so it will be difficult to
make conclusions as the CDC guidance is a resting heart rate between
60-100 beats/min.

```{r}
ggplot(heartrate_day, aes(x=Id, y=avg_rate/30, color=Id)) +
    geom_col(size=4)
```

**Summary of sleep_day**

```{r}
summary(sleep_day)
```

Create a column for classification of sleep state:

```{r}
sleep_day_clas<- sleep_day %>% 
    mutate(sleep_state = case_when(TotalMinutesAsleep < 420 ~ "Poor Sleep", TotalMinutesAsleep >=420 & TotalMinutesAsleep < 540 ~ "Normal Sleep", TotalMinutesAsleep >540 ~ "Over Sleep"))

sleep_chart<- sleep_day_clas %>% 
  group_by(sleep_state) %>% 
  summarise(total = n()) %>% 
  mutate(totals = sum(total)) %>% 
  group_by(sleep_state) %>% 
  summarise(total_percent = total/totals * 100)
```

*Analysis*

Bellabeat marketing should take a more focused approach on pushing the
benefits of sleep. According to the Sleep Foundation:

-   almost half of Americans say they feel sleepy during the day between
    3-7 days/week

-   35.2% of all adults in the U.S. report sleeping for an average of
    less than 7 hours/night

-   42.6% of single parents sleep less than 7 hours/night

Our data showcases 44% of Id's surveyed reported Poor Sleep, and 10%
reported Over Sleep. The impact of Over Sleeping can be just as negative
as having too little sleep. Impacts of Over Sleeping can be as follows:

-   Decreased immune function

-   Can lead to chronic disease

-   Obesity/Coranary heart disease

```{r}
ggplot(sleep_chart, aes(x=sleep_state,y=total_percent,fill=sleep_state ))+
  geom_bar(stat = "identity") +
  geom_text(aes(label=round(total_percent,digits = 0)),vjust= -0.3,size=3.5)+
  labs(title = "Participant Sleep Times",y="Percentages (%)")
```

**Sumamry for weight_log**

```{r}
summary(weight_log)
```

Adding a column for classification of BMI according to CDC:

```{r}
bmi_clas <- weight_log %>% 
  mutate(weight_status = case_when(weight_log$BMI < 18.5 ~ "Underweight", weight_log$BMI >= 18.6 & weight_log$BMI < 24.9 ~ "Healthy Weight", weight_log$BMI > 25 & weight_log$BMI< 29.9 ~ "Overweight", weight_log$BMI > 30 ~ "Obesity"))
```

Creating a data frame with percentage of each weight status:

```{r}
weight_status_percent <- bmi_clas %>% 
  group_by(weight_status) %>% 
  summarise(total = n()) %>% 
  mutate(totals = sum(total)) %>% 
  group_by(weight_status) %>% 
  summarise(total_percent = total / totals) %>% 
  mutate(labels = scales::percent(total_percent))
```

*Analysis*

Although the sample size for our weight log data was small we will still
analyze the data given as Bellabeat being a health and wellness company
should provide all data our customers need to better their lives.

Our data shows that only half 50.7% of the users are classified as
having healthy weight vs 47.8% overwieght, and 1.5% obese. Health
consequences of obesity include some of the following:

-   High Blood Pressure

-   Type 2 Diabetes

-   Stroke

-   Body pain and difficulty with physical functioning

```{r}
weight_status_percent %>%
  ggplot(aes(x="",y=total_percent, fill=weight_status)) +
  geom_bar(stat = "identity", width = 1)+
  coord_polar("y", start=0)+
  theme_minimal()+
  theme(axis.title.x= element_blank(),
        axis.title.y = element_blank(),
        panel.border = element_blank(), 
        panel.grid = element_blank(), 
        axis.ticks = element_blank(),
        axis.text.x = element_blank(),
        plot.title = element_text(hjust = 0.5, size=14, face = "bold")) +
   scale_fill_manual(values = c("#85e085","#e6e600", "#ffd480")) +
   geom_text(aes(label = labels),
             position = position_stack(vjust = 0.5))+
   labs(title="BMI Classification")
```

***SHARE***

Conclusions:

*Daily Activity*

-   Surveyed users show an average 192 mins of activity which puts them
    above average compared to the CDC guidance of 150 mins

-   Daily steps averaged 7638 in our data falling below CDC guidance of
    10,000 steps

-   We are not getting an account for muscle-strengthening activities,
    this could be a corner of the market that Bellabeat should also
    focus on as the benefits of muscle strengthening activities is a
    crucial benefit for females to maintain bone density and physicality
    into the later stages of life

-   Notifications should be implemented for Total Steps in order to help
    users understand a baseline for calories burned per day. *calories
    burned per minute= 0.0175 x MET x weight in kilograms*

*Sleep*

-   Another area of the fitness/wearable category Bellabeat should focus
    on is the benefits of sleep. While the data was missing alot of
    records from the surveyed users, correlations can be drawn between
    overall health & wellness and sleep

-   44% of surveyed reported "Poor Sleep" and another 10% "Over Sleep".
    Two recommendations on this front. 1. Better notification
    integration for a wind down time, limiting blue light interactions
    and other stimuli. 2. Marketing should focus on wearability while
    sleeping and sleep tracking capabilities. Our devices need to have
    the battery life to deal with this so Product Development should be
    looped in to the discussion

*Weight*

-   While the users who reported weight was very small in comparison to
    our other surveys, we should assume most owners of fitness wearables
    are doing so in order to monitor their weight (loss, maintenance,
    etc).

-   47.8% of those surveyed registered as having BMI's in the Overweight
    category. This has both serious consequences to one's personal
    health as well as an effect on the country they reside via medical
    costs, mortality rates and more.

-   Bellabeat app should work to integrate existing app partnerships
    such as MyFitnessPal and others. We dont need to spend resources on
    the creation but team up with the best who have already made a great
    product.

*Additional Recommendations*

Marketing should work to implement a more social media focused drive to
highlight the benefits of our female empowerment products. What
influencers on Instagram/Youtube do we have and what is it we are
looking for them to focus on. Pushing the latest product IVY should be a
focus.

Existing app compatibility with MyFitnessPal, RunKeeper, etc should be
developed and implemented. Expand the abilities of our hardware with
partnerships.

![](images/Screen%20Shot%202022-08-14%20at%2011.49.07%20AM.png)
